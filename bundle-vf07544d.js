var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e,n){return t.set(n),e}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function g(){return d(" ")}function m(){return d("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function C(t,e,n){t.classList[n?"add":"remove"](e)}let _;function E(t){_=t}function S(t){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(t)}const $=[],A=[],k=[],T=[],L=Promise.resolve();let M=!1;function x(t){k.push(t)}const R=new Set;let F=0;function P(){const t=_;do{for(;F<$.length;){const t=$[F];F++,E(t),H(t.$$)}for(E(null),$.length=0,F=0;A.length;)A.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];R.has(e)||(R.add(e),e())}k.length=0}while($.length);for(;T.length;)T.pop()();M=!1,R.clear(),E(t)}function H(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const O=new Set;let B;function I(){B={r:0,c:[],p:B}}function N(){B.r||r(B.c),B=B.p}function U(t,e){t&&t.i&&(O.delete(t),t.i(e))}function V(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),B.c.push((()=>{O.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Y="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function D(t){t&&t.c()}function z(t,n,i,s){const{fragment:a,on_mount:c,on_destroy:u,after_update:l}=t.$$;a&&a.m(n,i),s||x((()=>{const n=c.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(x)}function j(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&($.push(t),M||(M=!0,L.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(e,o,i,s,a,c,u,f=[-1]){const h=_;E(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};u&&u(p.root);let d=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&q(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();o.intro&&U(e.$$.fragment),z(e,o.target,o.anchor,o.customElement),P()}E(h)}class Z{$destroy(){j(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var G="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",J="M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z";function Q(t){let e,n;return{c(){e=p("title"),n=d(t[2])},m(t,r){u(t,e,r),c(e,n)},p(t,e){4&e&&v(n,t[2])},d(t){t&&l(e)}}}function X(t){let e;return{c(){e=p("path"),y(e,"d",t[0])},m(t,n){u(t,e,n)},p(t,n){1&n&&y(e,"d",t[0])},d(t){t&&l(e)}}}function K(t){let e,n,r;function o(t,e){return t[3]?et:tt}let i=o(t),s=i(t);return{c(){s.c(),e=p("g"),n=p("path"),y(n,"d",t[0]),y(e,"style",r=`animation: ${t[5]} linear ${t[6]}s infinite; transform-origin: center`)},m(t,r){s.m(t,r),u(t,e,r),c(e,n)},p(t,a){i!==(i=o(t))&&(s.d(1),s=i(t),s&&(s.c(),s.m(e.parentNode,e))),1&a&&y(n,"d",t[0]),96&a&&r!==(r=`animation: ${t[5]} linear ${t[6]}s infinite; transform-origin: center`)&&y(e,"style",r)},d(t){s.d(t),t&&l(e)}}}function tt(t){let e,n;return{c(){e=p("style"),n=d("@keyframes spin { to { transform: rotate(360deg) } }")},m(t,r){u(t,e,r),c(e,n)},d(t){t&&l(e)}}}function et(t){let e,n;return{c(){e=p("style"),n=d("@keyframes spin-inverse { to { transform: rotate(-360deg) } }")},m(t,r){u(t,e,r),c(e,n)},d(t){t&&l(e)}}}function nt(e){let n,r,o=e[2]&&Q(e);function i(t,e){return!1!==t[1]?K:X}let s=i(e),a=s(e);return{c(){n=p("svg"),o&&o.c(),r=m(),a.c(),y(n,"viewBox","0 0 24 24"),y(n,"style",e[4]),y(n,"class","svelte-dmmfjb")},m(t,e){u(t,n,e),o&&o.m(n,null),c(n,r),a.m(n,null)},p(t,[e]){t[2]?o?o.p(t,e):(o=Q(t),o.c(),o.m(n,r)):o&&(o.d(1),o=null),s===(s=i(t))&&a?a.p(t,e):(a.d(1),a=s(t),a&&(a.c(),a.m(n,null))),16&e&&y(n,"style",t[4])},i:t,o:t,d(t){t&&l(n),o&&o.d(),a.d()}}}function rt(t,e,n){let r,o,i,s,{path:a}=e,{size:c=1}=e,{color:u=null}=e,{flip:l=null}=e,{rotate:f=0}=e,{spin:h=!1}=e,{title:p=""}=e;Number(c)&&(c=Number(c));return t.$$set=t=>{"path"in t&&n(0,a=t.path),"size"in t&&n(7,c=t.size),"color"in t&&n(8,u=t.color),"flip"in t&&n(9,l=t.flip),"rotate"in t&&n(10,f=t.rotate),"spin"in t&&n(1,h=t.spin),"title"in t&&n(2,p=t.title)},t.$$.update=()=>{2&t.$$.dirty&&n(3,r="boolean"!=typeof h&&h<0),2&t.$$.dirty&&n(6,o=Math.abs(!0===h?2:h)),8&t.$$.dirty&&n(5,i=r?"spin-inverse":"spin"),1920&t.$$.dirty&&n(4,s=(()=>{const t=[],e=[];if(null!==c){const t="string"==typeof c?c:1.5*c+"rem";e.push(["width",t]),e.push(["height",t])}return e.push(["fill",null!==u?u:"currentColor"]),!0!==l&&"h"!==l||t.push("scaleX(-1)"),!0!==l&&"v"!==l||t.push("scaleY(-1)"),0!=f&&t.push(`rotate(${f}deg)`),t.length>0&&(e.push(["transform",t.join(" ")]),e.push(["transform-origin","center"])),e.reduce(((t,e)=>`${t} ${e[0]}:${e[1]};`),"")})())},[a,h,p,r,s,i,o,c,u,l,f]}class ot extends Z{constructor(t){super(),W(this,t,rt,nt,i,{path:0,size:7,color:8,flip:9,rotate:10,spin:1,title:2})}}var it="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function st(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var at=st((function(t,e){t.exports=function(){var t=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function e(t,e){return-1===t.indexOf(e)?t.length:t.indexOf(e)}function n(t){var n=t.replace(/^v/,"").replace(/\+.*$/,""),r=e(n,"-"),o=n.substring(0,r).split(".");return o.push(n.substring(r+1)),o}function r(t){return isNaN(Number(t))?t:Number(t)}function o(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");if(!t.test(e))throw new Error("Invalid argument not valid semver ('"+e+"' received)")}function i(t,e){[t,e].forEach(o);for(var i=n(t),s=n(e),a=0;a<Math.max(i.length-1,s.length-1);a++){var c=parseInt(i[a]||0,10),u=parseInt(s[a]||0,10);if(c>u)return 1;if(u>c)return-1}var l=i[i.length-1],f=s[s.length-1];if(l&&f){var h=l.split(".").map(r),p=f.split(".").map(r);for(a=0;a<Math.max(h.length,p.length);a++){if(void 0===h[a]||"string"==typeof p[a]&&"number"==typeof h[a])return-1;if(void 0===p[a]||"string"==typeof h[a]&&"number"==typeof p[a])return 1;if(h[a]>p[a])return 1;if(p[a]>h[a])return-1}}else if(l||f)return l?-1:1;return 0}var s=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function c(t){if("string"!=typeof t)throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(-1===s.indexOf(t))throw new TypeError("Invalid operator, expected one of "+s.join("|"))}return i.validate=function(e){return"string"==typeof e&&t.test(e)},i.compare=function(t,e,n){c(n);var r=i(t,e);return a[n].indexOf(r)>-1},i}()}));const ct=[];function ut(e,n=t){let r;const o=new Set;function s(t){if(i(e,t)&&(e=t,r)){const t=!ct.length;for(const t of o)t[1](),ct.push(t,e);if(t){for(let t=0;t<ct.length;t+=2)ct[t][0](ct[t+1]);ct.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const c=[i,a];return o.add(c),1===o.size&&(r=n(s)||t),i(e),()=>{o.delete(c),0===o.size&&(r(),r=null)}}}}const lt=ut({timerValue:1e3,timerId:null,active:!1,imageFormat:"jpg"}),ft=ut({host:"localhost:4444",password:""}),ht=ut(!1),pt=ut(!1);var dt=null;"undefined"!=typeof WebSocket?dt=WebSocket:"undefined"!=typeof MozWebSocket?dt=MozWebSocket:void 0!==it?dt=it.WebSocket||it.MozWebSocket:"undefined"!=typeof window?dt=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(dt=self.WebSocket||self.MozWebSocket);var gt=dt;function mt(){}function wt(){wt.init.call(this)}function yt(t){return void 0===t._maxListeners?wt.defaultMaxListeners:t._maxListeners}function vt(t,e,n){if(e)t.call(n);else for(var r=t.length,o=kt(t,r),i=0;i<r;++i)o[i].call(n)}function bt(t,e,n,r){if(e)t.call(n,r);else for(var o=t.length,i=kt(t,o),s=0;s<o;++s)i[s].call(n,r)}function Ct(t,e,n,r,o){if(e)t.call(n,r,o);else for(var i=t.length,s=kt(t,i),a=0;a<i;++a)s[a].call(n,r,o)}function _t(t,e,n,r,o,i){if(e)t.call(n,r,o,i);else for(var s=t.length,a=kt(t,s),c=0;c<s;++c)a[c].call(n,r,o,i)}function Et(t,e,n,r){if(e)t.apply(n,r);else for(var o=t.length,i=kt(t,o),s=0;s<o;++s)i[s].apply(n,r)}function St(t,e,n,r){var o,i,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]):(i=t._events=new mt,t._eventsCount=0),s){if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(o=yt(t))&&o>0&&s.length>o){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=i[e]=n,++t._eventsCount;return t}function $t(t,e,n){var r=!1;function o(){t.removeListener(e,o),r||(r=!0,n.apply(t,arguments))}return o.listener=n,o}function At(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function kt(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}mt.prototype=Object.create(null),wt.EventEmitter=wt,wt.usingDomains=!1,wt.prototype.domain=void 0,wt.prototype._events=void 0,wt.prototype._maxListeners=void 0,wt.defaultMaxListeners=10,wt.init=function(){this.domain=null,wt.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new mt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},wt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},wt.prototype.getMaxListeners=function(){return yt(this)},wt.prototype.emit=function(t){var e,n,r,o,i,s,a,c="error"===t;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(e=arguments[1],!a){if(e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:vt(n,l,this);break;case 2:bt(n,l,this,arguments[1]);break;case 3:Ct(n,l,this,arguments[1],arguments[2]);break;case 4:_t(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];Et(n,l,this,o)}return!0},wt.prototype.addListener=function(t,e){return St(this,t,e,!1)},wt.prototype.on=wt.prototype.addListener,wt.prototype.prependListener=function(t,e){return St(this,t,e,!0)},wt.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,$t(this,t,e)),this},wt.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,$t(this,t,e)),this},wt.prototype.removeListener=function(t,e){var n,r,o,i,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new mt:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length;i-- >0;)if(n[i]===e||n[i].listener&&n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new mt,this;delete r[t]}else!function(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}(n,o);r.removeListener&&this.emit("removeListener",t,s||e)}return this},wt.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new mt,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new mt:delete n[t]),this;if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new mt,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},wt.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):[]},wt.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):At.call(t,e)},wt.prototype.listenerCount=At,wt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Tt=st((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}})),Lt="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Mt=[],xt=[],Rt="undefined"!=typeof Uint8Array?Uint8Array:Array,Ft=!1;function Pt(){Ft=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Mt[e]=t[e],xt[t.charCodeAt(e)]=e;xt["-".charCodeAt(0)]=62,xt["_".charCodeAt(0)]=63}function Ht(t,e,n){for(var r,o,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(Mt[(o=r)>>18&63]+Mt[o>>12&63]+Mt[o>>6&63]+Mt[63&o]);return i.join("")}function Ot(t){var e;Ft||Pt();for(var n=t.length,r=n%3,o="",i=[],s=16383,a=0,c=n-r;a<c;a+=s)i.push(Ht(t,a,a+s>c?c:a+s));return 1===r?(e=t[n-1],o+=Mt[e>>2],o+=Mt[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=Mt[e>>10],o+=Mt[e>>4&63],o+=Mt[e<<2&63],o+="="),i.push(o),i.join("")}function Bt(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)}function It(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*g}var Nt={}.toString,Ut=Array.isArray||function(t){return"[object Array]"==Nt.call(t)};zt.TYPED_ARRAY_SUPPORT=void 0===Lt.TYPED_ARRAY_SUPPORT||Lt.TYPED_ARRAY_SUPPORT;var Vt=Yt();function Yt(){return zt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Dt(t,e){if(Yt()<e)throw new RangeError("Invalid typed array length");return zt.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=zt.prototype:(null===t&&(t=new zt(e)),t.length=e),t}function zt(t,e,n){if(!(zt.TYPED_ARRAY_SUPPORT||this instanceof zt))return new zt(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Wt(this,t)}return jt(this,t,e,n)}function jt(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);zt.TYPED_ARRAY_SUPPORT?(t=e).__proto__=zt.prototype:t=Zt(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!zt.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Qt(e,n),o=(t=Dt(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(Jt(e)){var n=0|Gt(e.length);return 0===(t=Dt(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?Dt(t,0):Zt(t,e);if("Buffer"===e.type&&Ut(e.data))return Zt(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function qt(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Wt(t,e){if(qt(e),t=Dt(t,e<0?0:0|Gt(e)),!zt.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Zt(t,e){var n=e.length<0?0:0|Gt(e.length);t=Dt(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function Gt(t){if(t>=Yt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Yt().toString(16)+" bytes");return 0|t}function Jt(t){return!(null==t||!t._isBuffer)}function Qt(t,e){if(Jt(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Se(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $e(t).length;default:if(r)return Se(t).length;e=(""+e).toLowerCase(),r=!0}}function Xt(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return pe(this,e,n);case"utf8":case"utf-8":return ue(this,e,n);case"ascii":return fe(this,e,n);case"latin1":case"binary":return he(this,e,n);case"base64":return ce(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function Kt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function te(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=zt.from(e,r)),Jt(e))return 0===e.length?-1:ee(t,e,n,r,o);if("number"==typeof e)return e&=255,zt.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):ee(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function ee(t,e,n,r,o){var i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var l=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var f=!0,h=0;h<c;h++)if(u(t,i+h)!==u(e,h)){f=!1;break}if(f)return i}return-1}function ne(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function re(t,e,n,r){return Ae(Se(e,t.length-n),t,n,r)}function oe(t,e,n,r){return Ae(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function ie(t,e,n,r){return oe(t,e,n,r)}function se(t,e,n,r){return Ae($e(e),t,n,r)}function ae(t,e,n,r){return Ae(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function ce(t,e,n){return 0===e&&n===t.length?Ot(t):Ot(t.slice(e,n))}function ue(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=le)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=le));return n}(r)}zt.poolSize=8192,zt._augment=function(t){return t.__proto__=zt.prototype,t},zt.from=function(t,e,n){return jt(null,t,e,n)},zt.TYPED_ARRAY_SUPPORT&&(zt.prototype.__proto__=Uint8Array.prototype,zt.__proto__=Uint8Array),zt.alloc=function(t,e,n){return function(t,e,n,r){return qt(e),e<=0?Dt(t,e):void 0!==n?"string"==typeof r?Dt(t,e).fill(n,r):Dt(t,e).fill(n):Dt(t,e)}(null,t,e,n)},zt.allocUnsafe=function(t){return Wt(null,t)},zt.allocUnsafeSlow=function(t){return Wt(null,t)},zt.isBuffer=ke,zt.compare=function(t,e){if(!Jt(t)||!Jt(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},zt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},zt.concat=function(t,e){if(!Ut(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return zt.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=zt.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(!Jt(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},zt.byteLength=Qt,zt.prototype._isBuffer=!0,zt.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Kt(this,e,e+1);return this},zt.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Kt(this,e,e+3),Kt(this,e+1,e+2);return this},zt.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Kt(this,e,e+7),Kt(this,e+1,e+6),Kt(this,e+2,e+5),Kt(this,e+3,e+4);return this},zt.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?ue(this,0,t):Xt.apply(this,arguments)},zt.prototype.equals=function(t){if(!Jt(t))throw new TypeError("Argument must be a Buffer");return this===t||0===zt.compare(this,t)},zt.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},zt.prototype.compare=function(t,e,n,r,o){if(!Jt(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),c=this.slice(r,o),u=t.slice(e,n),l=0;l<a;++l)if(c[l]!==u[l]){i=c[l],s=u[l];break}return i<s?-1:s<i?1:0},zt.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},zt.prototype.indexOf=function(t,e,n){return te(this,t,e,n,!0)},zt.prototype.lastIndexOf=function(t,e,n){return te(this,t,e,n,!1)},zt.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return ne(this,t,e,n);case"utf8":case"utf-8":return re(this,t,e,n);case"ascii":return oe(this,t,e,n);case"latin1":case"binary":return ie(this,t,e,n);case"base64":return se(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},zt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var le=4096;function fe(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function he(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function pe(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=Ee(t[i]);return o}function de(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function ge(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function me(t,e,n,r,o,i){if(!Jt(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function we(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function ye(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function ve(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function be(t,e,n,r,o){return o||ve(t,0,n,4),It(t,e,n,r,23,4),n+4}function Ce(t,e,n,r,o){return o||ve(t,0,n,8),It(t,e,n,r,52,8),n+8}zt.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),zt.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=zt.prototype;else{var o=e-t;n=new zt(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},zt.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||ge(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},zt.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||ge(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},zt.prototype.readUInt8=function(t,e){return e||ge(t,1,this.length),this[t]},zt.prototype.readUInt16LE=function(t,e){return e||ge(t,2,this.length),this[t]|this[t+1]<<8},zt.prototype.readUInt16BE=function(t,e){return e||ge(t,2,this.length),this[t]<<8|this[t+1]},zt.prototype.readUInt32LE=function(t,e){return e||ge(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},zt.prototype.readUInt32BE=function(t,e){return e||ge(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},zt.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||ge(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},zt.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||ge(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},zt.prototype.readInt8=function(t,e){return e||ge(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},zt.prototype.readInt16LE=function(t,e){e||ge(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},zt.prototype.readInt16BE=function(t,e){e||ge(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},zt.prototype.readInt32LE=function(t,e){return e||ge(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},zt.prototype.readInt32BE=function(t,e){return e||ge(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},zt.prototype.readFloatLE=function(t,e){return e||ge(t,4,this.length),Bt(this,t,!0,23,4)},zt.prototype.readFloatBE=function(t,e){return e||ge(t,4,this.length),Bt(this,t,!1,23,4)},zt.prototype.readDoubleLE=function(t,e){return e||ge(t,8,this.length),Bt(this,t,!0,52,8)},zt.prototype.readDoubleBE=function(t,e){return e||ge(t,8,this.length),Bt(this,t,!1,52,8)},zt.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||me(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},zt.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||me(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},zt.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,1,255,0),zt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},zt.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,2,65535,0),zt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):we(this,t,e,!0),e+2},zt.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,2,65535,0),zt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):we(this,t,e,!1),e+2},zt.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,4,4294967295,0),zt.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):ye(this,t,e,!0),e+4},zt.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,4,4294967295,0),zt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ye(this,t,e,!1),e+4},zt.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);me(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},zt.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);me(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},zt.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,1,127,-128),zt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},zt.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,2,32767,-32768),zt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):we(this,t,e,!0),e+2},zt.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,2,32767,-32768),zt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):we(this,t,e,!1),e+2},zt.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,4,2147483647,-2147483648),zt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):ye(this,t,e,!0),e+4},zt.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||me(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),zt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ye(this,t,e,!1),e+4},zt.prototype.writeFloatLE=function(t,e,n){return be(this,t,e,!0,n)},zt.prototype.writeFloatBE=function(t,e,n){return be(this,t,e,!1,n)},zt.prototype.writeDoubleLE=function(t,e,n){return Ce(this,t,e,!0,n)},zt.prototype.writeDoubleBE=function(t,e,n){return Ce(this,t,e,!1,n)},zt.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!zt.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},zt.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!zt.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=Jt(t)?t:Se(new zt(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var _e=/[^+\/0-9A-Za-z-_]/g;function Ee(t){return t<16?"0"+t.toString(16):t.toString(16)}function Se(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $e(t){return function(t){var e,n,r,o,i,s;Ft||Pt();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[a-2]?2:"="===t[a-1]?1:0,s=new Rt(3*a/4-i),r=i>0?a-4:a;var c=0;for(e=0,n=0;e<r;e+=4,n+=3)o=xt[t.charCodeAt(e)]<<18|xt[t.charCodeAt(e+1)]<<12|xt[t.charCodeAt(e+2)]<<6|xt[t.charCodeAt(e+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return 2===i?(o=xt[t.charCodeAt(e)]<<2|xt[t.charCodeAt(e+1)]>>4,s[c++]=255&o):1===i&&(o=xt[t.charCodeAt(e)]<<10|xt[t.charCodeAt(e+1)]<<4|xt[t.charCodeAt(e+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(_e,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Ae(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function ke(t){return null!=t&&(!!t._isBuffer||Te(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Te(t.slice(0,0))}(t))}function Te(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Le=Object.freeze({__proto__:null,Buffer:zt,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),zt.alloc(+t)},isBuffer:ke,kMaxLength:Vt}),Me=st((function(t,e){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=Le.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=Le:(r(Le,e),e.Buffer=o),o.prototype=Object.create(n.prototype),r(n,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var o=n(t);return void 0!==e?"string"==typeof r?o.fill(e,r):o.fill(e):o.fill(0),o},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Le.SlowBuffer(t)}})),xe=Me.Buffer;function Re(t,e){this._block=xe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Re.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=xe.from(t,e));for(var n=this._block,r=this._blockSize,o=t.length,i=this._len,s=0;s<o;){for(var a=i%r,c=Math.min(o-s,r-a),u=0;u<c;u++)n[a+u]=t[s+u];s+=c,(i+=c)%r==0&&this._update(n)}return this._len+=o,this},Re.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,o=(n-r)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i},Re.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Fe=Re,Pe=Me.Buffer,He=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Oe=new Array(64);function Be(){this.init(),this._w=Oe,Fe.call(this,64,56)}function Ie(t,e,n){return n^t&(e^n)}function Ne(t,e,n){return t&e|n&(t|e)}function Ue(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Ve(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Ye(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}Tt(Be,Fe),Be.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Be.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,c=0|this._f,u=0|this._g,l=0|this._h,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<64;++f)n[f]=0|(((e=n[f-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[f-7]+Ye(n[f-15])+n[f-16];for(var h=0;h<64;++h){var p=l+Ve(a)+Ie(a,c,u)+He[h]+n[h]|0,d=Ue(r)+Ne(r,o,i)|0;l=u,u=c,c=a,a=s+p|0,s=i,i=o,o=r,r=p+d|0}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=c+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0},Be.prototype._hash=function(){var t=Pe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var De=Be,ze=function(t="",e="",n){const r=(new De).update(n).update(t).digest("base64");return(new De).update(r).update(e).digest("base64")},je={NOT_CONNECTED:{status:"error",description:"There is no Socket connection available."},CONNECTION_ERROR:{status:"error",description:"Connection error."},SOCKET_EXCEPTION:{status:"error",description:"An exception occurred from the underlying WebSocket."},AUTH_NOT_REQUIRED:{status:"ok",description:"Authentication is not required."},REQUEST_TYPE_NOT_SPECIFIED:{status:"error",description:"A Request Type was not specified."},ARGS_NOT_OBJECT:{status:"error",description:"The supplied argments parameter is not an object."},init(){for(const t in this)({}).hasOwnProperty.call(this,t)&&(this[t].code=t,"error"!==this[t].status||this[t].error||(this[t].error=this[t].description));return delete this.init,this}}.init();function qe(){throw new Error("setTimeout has not been defined")}function We(){throw new Error("clearTimeout has not been defined")}var Ze=qe,Ge=We;function Je(t){if(Ze===setTimeout)return setTimeout(t,0);if((Ze===qe||!Ze)&&setTimeout)return Ze=setTimeout,setTimeout(t,0);try{return Ze(t,0)}catch(e){try{return Ze.call(null,t,0)}catch(e){return Ze.call(this,t,0)}}}"function"==typeof Lt.setTimeout&&(Ze=setTimeout),"function"==typeof Lt.clearTimeout&&(Ge=clearTimeout);var Qe,Xe=[],Ke=!1,tn=-1;function en(){Ke&&Qe&&(Ke=!1,Qe.length?Xe=Qe.concat(Xe):tn=-1,Xe.length&&nn())}function nn(){if(!Ke){var t=Je(en);Ke=!0;for(var e=Xe.length;e;){for(Qe=Xe,Xe=[];++tn<e;)Qe&&Qe[tn].run();tn=-1,e=Xe.length}Qe=null,Ke=!1,function(t){if(Ge===clearTimeout)return clearTimeout(t);if((Ge===We||!Ge)&&clearTimeout)return Ge=clearTimeout,clearTimeout(t);try{Ge(t)}catch(e){try{return Ge.call(null,t)}catch(e){return Ge.call(this,t)}}}(t)}}function rn(t,e){this.fun=t,this.array=e}rn.prototype.run=function(){this.fun.apply(null,this.array)};function on(){}var sn=on,an=on,cn=on,un=on,ln=on,fn=on,hn=on;var pn=Lt.performance||{},dn=pn.now||pn.mozNow||pn.msNow||pn.oNow||pn.webkitNow||function(){return(new Date).getTime()};var gn=new Date;var mn={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Xe.push(new rn(t,e)),1!==Xe.length||Ke||Je(nn)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:sn,addListener:an,once:cn,off:un,removeListener:ln,removeAllListeners:fn,emit:hn,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*dn.call(pn),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-gn)/1e3}},wn=mn,yn=1e3,vn=60*yn,bn=60*vn,Cn=24*bn,_n=7*Cn,En=365.25*Cn,Sn=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*En;case"weeks":case"week":case"w":return n*_n;case"days":case"day":case"d":return n*Cn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*bn;case"minutes":case"minute":case"mins":case"min":case"m":return n*vn;case"seconds":case"second":case"secs":case"sec":case"s":return n*yn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=Cn)return $n(t,e,Cn,"day");if(e>=bn)return $n(t,e,bn,"hour");if(e>=vn)return $n(t,e,vn,"minute");if(e>=yn)return $n(t,e,yn,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=Cn)return Math.round(t/Cn)+"d";if(e>=bn)return Math.round(t/bn)+"h";if(e>=vn)return Math.round(t/vn)+"m";if(e>=yn)return Math.round(t/yn)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function $n(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}var An=function(t){function e(t){let r,o,i,s=null;function a(...t){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";s++;const i=e.formatters[o];if("function"==typeof i){const e=t[s];r=i.call(n,e),t.splice(s,1),s--}return r})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==e.namespaces&&(o=e.namespaces,i=e.enabled(t)),i),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(r),...e.skips.map(r).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Sn,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e},kn=st((function(t,e){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==wn&&"env"in wn&&(t=wn.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=An(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),Tn=function(t,e,n){n&&n.stack?t(`${e}\n %O`,n.stack):t("object"==typeof n?`${e} %o`:`${e} %s`,n)};const Ln=kn("obs-websocket-js:Socket");var Mn=class extends wt{constructor(){super(),this._connected=!1,this._socket=void 0;const t=this.emit;this.emit=function(...e){Ln("[emit] %s err: %o data: %o",...e),t.apply(this,e)}}async connect(t={}){const e=(t=t||{}).address||"localhost:4444";if(this._socket)try{this._socket.close()}catch(t){Ln("Failed to close previous WebSocket:",t.message)}return new Promise((async(n,r)=>{try{await this._connect(e,Boolean(t.secure)),await this._authenticate(t.password),n()}catch(t){this._socket.close(),this._connected=!1,Tn(Ln,"Connection failed:",t),r(t)}}))}async _connect(t,e){return new Promise(((n,r)=>{let o=!1;Ln("Attempting to connect to: %s (secure: %s)",t,e),this._socket=new gt((e?"wss://":"ws://")+t),this._socket.onerror=t=>{if(o)return Tn(Ln,"Unknown Socket Error",t),void this.emit("error",t);o=!0,Tn(Ln,"Websocket Connection failed:",t),r(je.CONNECTION_ERROR)},this._socket.onopen=()=>{o||(this._connected=!0,o=!0,Ln("Connection opened: %s",t),this.emit("ConnectionOpened"),n())},this._socket.onclose=()=>{this._connected=!1,Ln("Connection closed: %s",t),this.emit("ConnectionClosed")},this._socket.onmessage=t=>{Ln("[OnMessage]: %o",t);const e=function(t){t=t||{};for(const e in t)({}).hasOwnProperty.call(t,e)&&(t[e.replace(/-([a-z])/gi,((t,e)=>e.toUpperCase()))]=t[e]);return t}(JSON.parse(t.data));let n,r;"error"===e.status?n=e:r=e,e.messageId?this.emit(`obs:internal:message:id-${e.messageId}`,n,r):e.updateType?this.emit(e.updateType,r):(Tn(Ln,"Unrecognized Socket Message:",e),this.emit("message",e))}}))}async _authenticate(t=""){if(!this._connected)throw je.NOT_CONNECTED;const e=await this.send("GetAuthRequired");if(!e.authRequired)return Ln("Authentication not Required"),this.emit("AuthenticationSuccess"),je.AUTH_NOT_REQUIRED;try{await this.send("Authenticate",{auth:ze(e.salt,e.challenge,t)})}catch(t){throw Ln("Authentication Failure %o",t),this.emit("AuthenticationFailure"),t}Ln("Authentication Success"),this.emit("AuthenticationSuccess")}disconnect(){Ln("Disconnect requested."),this._socket&&this._socket.close()}};const xn=kn("obs-websocket-js:Core");let Rn=0;var Fn=class extends Mn{send(t,e={}){return e=e||{},new Promise(((n,r)=>{const o=String(Rn++);let i;if(t||(i=je.REQUEST_TYPE_NOT_SPECIFIED),e&&("object"!=typeof e||null===e||Array.isArray(e))&&(i=je.ARGS_NOT_OBJECT),this._connected||(i=je.NOT_CONNECTED),this.once(`obs:internal:message:id-${o}`,((t,e)=>{t?(xn("[send:reject] %o",t),r(t)):(xn("[send:resolve] %o",e),n(e))})),!i){e["request-type"]=t,e["message-id"]=o,xn("[send] %s %s %o",o,t,e);try{this._socket.send(JSON.stringify(e))}catch(t){i=je.SOCKET_EXCEPTION}}i&&this.emit(`obs:internal:message:id-${o}`,i)}))}sendCallback(t,e={},n){void 0===n&&"function"==typeof e&&(n=e,e={}),this.send(t,e).then(((...t)=>{n(null,...t)})).catch((t=>{n(t)}))}};function Pn(t){let e,n,r,i,s,a;return{c(){e=h("div"),e.innerHTML='<img id="preview" class="is-hidden has-background-dark" alt="Preview"/>',n=g(),r=h("div"),i=h("button"),i.textContent="Transition",y(e,"class","column"),y(i,"class","button is-fullwidth is-info"),y(r,"class","column is-narrow")},m(l,f){u(l,e,f),u(l,n,f),u(l,r,f),c(r,i),s||(a=w(i,"click",(function(){o(t[0])&&t[0].apply(this,arguments)})),s=!0)},p(e,n){t=e},d(t){t&&l(e),t&&l(n),t&&l(r),s=!1,a()}}}function Hn(e){let n,r,o,i=e[1]&&Pn(e);return{c(){n=h("div"),i&&i.c(),r=g(),o=h("div"),o.innerHTML='<img id="program" alt="Program" class="is-hidden"/>',y(o,"class","column"),y(n,"class","columns is-centered is-vcentered has-text-centered")},m(t,e){u(t,n,e),i&&i.m(n,null),c(n,r),c(n,o)},p(t,[e]){t[1]?i?i.p(t,e):(i=Pn(t),i.c(),i.m(n,r)):i&&(i.d(1),i=null)},i:t,o:t,d(t){t&&l(n),i&&i.d()}}}function On(t,e,n){let r;s(t,pt,(t=>n(1,r=t)));let{transitionScene:o}=e;return t.$$set=t=>{"transitionScene"in t&&n(0,o=t.transitionScene)},[o,r]}class Bn extends Z{constructor(t){super(),W(this,t,On,Hn,i,{transitionScene:0})}}function In(e){let n,r,o,i,s,a,f,p;return o=new ot({props:{path:"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"}}),{c(){n=h("a"),r=h("span"),D(o.$$.fragment),i=g(),s=h("span"),s.textContent="Enable Screenshots",y(r,"class","icon"),y(n,"class","button is-warning is-light")},m(t,l){u(t,n,l),c(n,r),z(o,r,null),c(n,i),c(n,s),a=!0,f||(p=w(n,"click",e[1]),f=!0)},p:t,i(t){a||(U(o.$$.fragment,t),a=!0)},o(t){V(o.$$.fragment,t),a=!1},d(t){t&&l(n),j(o),f=!1,p()}}}function Nn(e){let n,r,o,i,s,a,f,p;return o=new ot({props:{path:"M1.2,4.47L2.5,3.2L20,20.72L18.73,22L16.73,20H4A2,2 0 0,1 2,18V6C2,5.78 2.04,5.57 2.1,5.37L1.2,4.47M7,4L9,2H15L17,4H20A2,2 0 0,1 22,6V18C22,18.6 21.74,19.13 21.32,19.5L16.33,14.5C16.76,13.77 17,12.91 17,12A5,5 0 0,0 12,7C11.09,7 10.23,7.24 9.5,7.67L5.82,4H7M7,12A5,5 0 0,0 12,17C12.5,17 13.03,16.92 13.5,16.77L11.72,15C10.29,14.85 9.15,13.71 9,12.28L7.23,10.5C7.08,10.97 7,11.5 7,12M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9Z"}}),{c(){n=h("a"),r=h("span"),D(o.$$.fragment),i=g(),s=h("span"),s.textContent="Stop Screenshots",y(r,"class","icon"),y(n,"class","button is-warning")},m(t,l){u(t,n,l),c(n,r),z(o,r,null),c(n,i),c(n,s),a=!0,f||(p=w(n,"click",e[2]),f=!0)},p:t,i(t){a||(U(o.$$.fragment,t),a=!0)},o(t){V(o.$$.fragment,t),a=!1},d(t){t&&l(n),j(o),f=!1,p()}}}function Un(t){let e,n,r,o;const i=[Nn,In],s=[];function a(t,e){return t[0].active?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=m()},m(t,n){s[e].m(t,n),u(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(I(),V(s[c],1,1,(()=>{s[c]=null})),N(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),U(n,1),n.m(r.parentNode,r))},i(t){o||(U(n),o=!0)},o(t){V(n),o=!1},d(t){s[e].d(t),t&&l(r)}}}function Vn(t,e,n){let r,o,i;async function c(){if(i){let t=await u("TakeSourceScreenshot",{sourceName:l,embedPictureFormat:r.imageFormat,width:960,height:540});if(t&&t.img&&(document.querySelector("#program").src=t.img,document.querySelector("#program").className=""),o){let t=await u("TakeSourceScreenshot",{sourceName:f,embedPictureFormat:r.imageFormat,width:960,height:540});t&&t.img&&(document.querySelector("#preview").src=t.img,document.querySelector("#preview").classList.remove("is-hidden"))}}a(lt,r.timerId=setTimeout(c,r.timerValue),r)}s(t,lt,(t=>n(0,r=t))),s(t,pt,(t=>n(6,o=t))),s(t,ht,(t=>n(7,i=t)));let{sendCommand:u}=e,{currentScene:l}=e,{currentPreviewScene:f}=e;return t.$$set=t=>{"sendCommand"in t&&n(3,u=t.sendCommand),"currentScene"in t&&n(4,l=t.currentScene),"currentPreviewScene"in t&&n(5,f=t.currentPreviewScene)},[r,async function(){a(lt,r.active=!0,r),c()},async function(){a(lt,r.active=!1,r),clearTimeout(r.timerId),a(lt,r.timerId=null,r),document.querySelector("#program").className="is-hidden",o&&(document.querySelector("#preview").className="is-hidden")},u,l,f]}class Yn extends Z{constructor(t){super(),W(this,t,Vn,Un,i,{sendCommand:3,currentScene:4,currentPreviewScene:5})}}const{document:Dn}=Y;function zn(t,e,n){const r=t.slice();return r[34]=e[n],r}function jn(t,e,n){const r=t.slice();return r[37]=e[n],r}function qn(e){let n,r,o=(e[5]||"Not connected")+"";return{c(){n=h("a"),r=d(o),y(n,"class","button is-danger"),y(n,"disabled","")},m(t,e){u(t,n,e),c(n,r)},p(t,e){32&e[0]&&o!==(o=(t[5]||"Not connected")+"")&&v(r,o)},i:t,o:t,d(t){t&&l(n)}}}function Wn(t){let e,n,o,i,s,a,f,p,d,m,v,b,_,E,S,$,A,k,T,L,M,x;function R(t,e){return t[0]?Gn:Zn}let F=R(t),P=F(t);o=new Yn({props:{sendCommand:t[13],currentScene:t[1],currentPreviewScene:t[2]}});const H=[Qn,Jn],O=[];function B(t,e){return t[0]&&t[0].streaming?0:1}s=B(t),a=O[s]=H[s](t);const Y=[Kn,Xn],q=[];function W(t,e){return t[0]&&t[0].recording?0:1}return p=W(t),d=q[p]=Y[p](t),S=new ot({props:{path:"M15,13H17V11H15M15,21H17V19H15M15,5H17V3H15M19,9H21V7H19M19,5H21V3H19M19,13H21V11H19M19,21H21V19H19M11,21H13V3H11M19,17H21V15H19M7,5H9V3H7M3,17H5V15H3M3,21H5V19H3M3,13H5V11H3M7,13H9V11H7M7,21H9V19H7M3,5H5V3H3M3,9H5V7H3V9Z"}}),T=new ot({props:{path:"M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z"}}),{c(){e=h("a"),P.c(),n=g(),D(o.$$.fragment),i=g(),a.c(),f=g(),d.c(),m=g(),v=h("a"),v.textContent="Disconnect",b=g(),_=h("a"),E=h("span"),D(S.$$.fragment),$=g(),A=h("a"),k=h("span"),D(T.$$.fragment),y(e,"class","button is-info is-light"),y(e,"disabled",""),y(v,"class","button is-danger is-light"),y(E,"class","icon"),y(_,"class","button is-link"),y(_,"title","Toggle Studio Mode"),C(_,"is-light",!t[9]),y(k,"class","icon"),y(A,"class","button is-link"),y(A,"title","Show Scene on Top"),C(A,"is-light",!t[4])},m(r,a){u(r,e,a),P.m(e,null),u(r,n,a),z(o,r,a),u(r,i,a),O[s].m(r,a),u(r,f,a),q[p].m(r,a),u(r,m,a),u(r,v,a),u(r,b,a),u(r,_,a),c(_,E),z(S,E,null),u(r,$,a),u(r,A,a),c(A,k),z(T,k,null),L=!0,M||(x=[w(v,"click",t[24]),w(_,"click",t[11]),w(A,"click",t[12])],M=!0)},p(t,n){F===(F=R(t))&&P?P.p(t,n):(P.d(1),P=F(t),P&&(P.c(),P.m(e,null)));const r={};2&n[0]&&(r.currentScene=t[1]),4&n[0]&&(r.currentPreviewScene=t[2]),o.$set(r);let i=s;s=B(t),s===i?O[s].p(t,n):(I(),V(O[i],1,1,(()=>{O[i]=null})),N(),a=O[s],a?a.p(t,n):(a=O[s]=H[s](t),a.c()),U(a,1),a.m(f.parentNode,f));let c=p;p=W(t),p===c?q[p].p(t,n):(I(),V(q[c],1,1,(()=>{q[c]=null})),N(),d=q[p],d?d.p(t,n):(d=q[p]=Y[p](t),d.c()),U(d,1),d.m(m.parentNode,m)),512&n[0]&&C(_,"is-light",!t[9]),16&n[0]&&C(A,"is-light",!t[4])},i(t){L||(U(o.$$.fragment,t),U(a),U(d),U(S.$$.fragment,t),U(T.$$.fragment,t),L=!0)},o(t){V(o.$$.fragment,t),V(a),V(d),V(S.$$.fragment,t),V(T.$$.fragment,t),L=!1},d(t){t&&l(e),P.d(),t&&l(n),j(o,t),t&&l(i),O[s].d(t),t&&l(f),q[p].d(t),t&&l(m),t&&l(v),t&&l(b),t&&l(_),j(S),t&&l($),t&&l(A),j(T),M=!1,r(x)}}}function Zn(e){let n;return{c(){n=d("Connected")},m(t,e){u(t,n,e)},p:t,d(t){t&&l(n)}}}function Gn(t){let e,n,r,o,i,s,a=Math.round(t[0].stats.fps)+"",c=Math.round(t[0].stats["cpu-usage"])+"",f=t[0].stats["output-skipped-frames"]+"";return{c(){e=d(a),n=d(" fps, "),r=d(c),o=d("% CPU, "),i=d(f),s=d(" skipped frames")},m(t,a){u(t,e,a),u(t,n,a),u(t,r,a),u(t,o,a),u(t,i,a),u(t,s,a)},p(t,n){1&n[0]&&a!==(a=Math.round(t[0].stats.fps)+"")&&v(e,a),1&n[0]&&c!==(c=Math.round(t[0].stats["cpu-usage"])+"")&&v(r,c),1&n[0]&&f!==(f=t[0].stats["output-skipped-frames"]+"")&&v(i,f)},d(t){t&&l(e),t&&l(n),t&&l(r),t&&l(o),t&&l(i),t&&l(s)}}}function Jn(e){let n,r,o,i,s,a,f,p;return o=new ot({props:{path:"M4.93,4.93C3.12,6.74 2,9.24 2,12C2,14.76 3.12,17.26 4.93,19.07L6.34,17.66C4.89,16.22 4,14.22 4,12C4,9.79 4.89,7.78 6.34,6.34L4.93,4.93M19.07,4.93L17.66,6.34C19.11,7.78 20,9.79 20,12C20,14.22 19.11,16.22 17.66,17.66L19.07,19.07C20.88,17.26 22,14.76 22,12C22,9.24 20.88,6.74 19.07,4.93M7.76,7.76C6.67,8.85 6,10.35 6,12C6,13.65 6.67,15.15 7.76,16.24L9.17,14.83C8.45,14.11 8,13.11 8,12C8,10.89 8.45,9.89 9.17,9.17L7.76,7.76M16.24,7.76L14.83,9.17C15.55,9.89 16,10.89 16,12C16,13.11 15.55,14.11 14.83,14.83L16.24,16.24C17.33,15.15 18,13.65 18,12C18,10.35 17.33,8.85 16.24,7.76M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z"}}),{c(){n=h("a"),r=h("span"),D(o.$$.fragment),i=g(),s=h("span"),s.textContent="Start stream",y(r,"class","icon"),y(n,"class","button is-danger")},m(t,l){u(t,n,l),c(n,r),z(o,r,null),c(n,i),c(n,s),a=!0,f||(p=w(n,"click",e[17]),f=!0)},p:t,i(t){a||(U(o.$$.fragment,t),a=!0)},o(t){V(o.$$.fragment,t),a=!1},d(t){t&&l(n),j(o),f=!1,p()}}}function Qn(t){let e,n,r,o,i,s,a,f,p,m,b,C=t[0].totalStreamTime+"";return r=new ot({props:{path:"M20.84 22.73L12.1 14C12.06 14 12.03 14 12 14C10.9 14 10 13.11 10 12C10 11.97 10 11.94 10 11.9L8.4 10.29C8.15 10.81 8 11.38 8 12C8 13.11 8.45 14.11 9.17 14.83L7.76 16.24C6.67 15.15 6 13.65 6 12C6 10.83 6.34 9.74 6.93 8.82L5.5 7.37C4.55 8.67 4 10.27 4 12C4 14.22 4.89 16.22 6.34 17.66L4.93 19.07C3.12 17.26 2 14.76 2 12C2 9.72 2.77 7.63 4.06 5.95L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M15.93 12.73L17.53 14.33C17.83 13.61 18 12.83 18 12C18 10.35 17.33 8.85 16.24 7.76L14.83 9.17C15.55 9.89 16 10.89 16 12C16 12.25 15.97 12.5 15.93 12.73M19.03 15.83L20.5 17.28C21.44 15.75 22 13.94 22 12C22 9.24 20.88 6.74 19.07 4.93L17.66 6.34C19.11 7.78 20 9.79 20 12C20 13.39 19.65 14.7 19.03 15.83Z"}}),{c(){e=h("a"),n=h("span"),D(r.$$.fragment),o=g(),i=h("span"),s=d("Stop stream ("),a=d(C),f=d(" secs)"),y(n,"class","icon"),y(e,"class","button is-danger")},m(l,h){u(l,e,h),c(e,n),z(r,n,null),c(e,o),c(e,i),c(i,s),c(i,a),c(i,f),p=!0,m||(b=w(e,"click",t[18]),m=!0)},p(t,e){(!p||1&e[0])&&C!==(C=t[0].totalStreamTime+"")&&v(a,C)},i(t){p||(U(r.$$.fragment,t),p=!0)},o(t){V(r.$$.fragment,t),p=!1},d(t){t&&l(e),j(r),m=!1,b()}}}function Xn(e){let n,r,o,i,s,a,f,p;return o=new ot({props:{path:"M19,12C19,15.86 15.86,19 12,19C8.14,19 5,15.86 5,12C5,8.14 8.14,5 12,5C15.86,5 19,8.14 19,12Z"}}),{c(){n=h("a"),r=h("span"),D(o.$$.fragment),i=g(),s=h("span"),s.textContent="Start recording",y(r,"class","icon"),y(n,"class","button is-danger")},m(t,l){u(t,n,l),c(n,r),z(o,r,null),c(n,i),c(n,s),a=!0,f||(p=w(n,"click",e[19]),f=!0)},p:t,i(t){a||(U(o.$$.fragment,t),a=!0)},o(t){V(o.$$.fragment,t),a=!1},d(t){t&&l(n),j(o),f=!1,p()}}}function Kn(t){let e,n,r,o,i,s,a,f,p,m,b,C,_,E,S=t[0].totalRecordTime+"";const $=[er,tr],A=[];function k(t,e){return t[0].recordingPaused?0:1}return e=k(t),n=A[e]=$[e](t),s=new ot({props:{path:"M18,18H6V6H18V18Z"}}),{c(){n.c(),r=g(),o=h("a"),i=h("span"),D(s.$$.fragment),a=g(),f=h("span"),p=d("Stop recording ("),m=d(S),b=d(" secs)"),y(i,"class","icon"),y(o,"class","button is-danger")},m(n,l){A[e].m(n,l),u(n,r,l),u(n,o,l),c(o,i),z(s,i,null),c(o,a),c(o,f),c(f,p),c(f,m),c(f,b),C=!0,_||(E=w(o,"click",t[20]),_=!0)},p(t,o){let i=e;e=k(t),e===i?A[e].p(t,o):(I(),V(A[i],1,1,(()=>{A[i]=null})),N(),n=A[e],n?n.p(t,o):(n=A[e]=$[e](t),n.c()),U(n,1),n.m(r.parentNode,r)),(!C||1&o[0])&&S!==(S=t[0].totalRecordTime+"")&&v(m,S)},i(t){C||(U(n),U(s.$$.fragment,t),C=!0)},o(t){V(n),V(s.$$.fragment,t),C=!1},d(t){A[e].d(t),t&&l(r),t&&l(o),j(s),_=!1,E()}}}function tr(e){let n,r,o,i,s,a,f,p;return o=new ot({props:{path:"M14,19H18V5H14M6,19H10V5H6V19Z"}}),{c(){n=h("a"),r=h("span"),D(o.$$.fragment),i=g(),s=h("span"),s.textContent="Pause recording",y(r,"class","icon"),y(n,"class","button is-danger")},m(t,l){u(t,n,l),c(n,r),z(o,r,null),c(n,i),c(n,s),a=!0,f||(p=w(n,"click",e[21]),f=!0)},p:t,i(t){a||(U(o.$$.fragment,t),a=!0)},o(t){V(o.$$.fragment,t),a=!1},d(t){t&&l(n),j(o),f=!1,p()}}}function er(e){let n,r,o,i,s,a,f,p;return o=new ot({props:{path:"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5"}}),{c(){n=h("a"),r=h("span"),D(o.$$.fragment),i=g(),s=h("span"),s.textContent="Resume recording",y(r,"class","icon"),y(n,"class","button is-danger")},m(t,l){u(t,n,l),c(n,r),z(o,r,null),c(n,i),c(n,s),a=!0,f||(p=w(n,"click",e[22]),f=!0)},p:t,i(t){a||(U(o.$$.fragment,t),a=!0)},o(t){V(o.$$.fragment,t),a=!1},d(t){t&&l(n),j(o),f=!1,p()}}}function nr(e){let n,o,i,s,a,f,p,m,v,C,_,E,S,$,A,k,T,L,M,x,R,F="https:"===document.location.protocol&&function(e){let n,r,o,i,s,a,f,p,g,m,w,v,b;return{c(){n=h("div"),r=d("You are checking this page on a secure HTTPS connection. That's great, but it means you can\n          "),o=h("strong"),o.textContent="only",i=d("\n          connect to WSS (secure websocket) hosts, for example OBS exposed with\n          "),s=h("a"),s.textContent="ngrok",a=d("\n          or\n          "),f=h("a"),f.textContent="pagekite",p=d("\n          . If you want to connect to a local OBS instance,\n          "),g=h("strong"),m=h("a"),w=d("please click here to load the non-secure version of this page"),b=d("\n          ."),y(s,"href","https://ngrok.com/"),y(f,"href","https://pagekite.net/"),y(m,"href",v="http://"+document.location.hostname+(document.location.port?":"+document.location.port:"")+document.location.pathname),y(n,"class","notification is-danger")},m(t,e){u(t,n,e),c(n,r),c(n,o),c(n,i),c(n,s),c(n,a),c(n,f),c(n,p),c(n,g),c(g,m),c(m,w),c(n,b)},p:t,d(t){t&&l(n)}}}();return{c(){n=h("h1"),n.innerHTML='Welcome to\n        <strong>OBS-web</strong>\n        - the easiest way to control\n        <a href="https://obsproject.com/" target="_blank">OBS</a>\n        remotely!',o=g(),F&&F.c(),i=g(),s=h("p"),s.textContent='To get started, enter your OBS host below and click "connect".',a=g(),f=h("form"),p=h("div"),m=h("p"),v=h("input"),_=g(),E=h("p"),S=h("input"),A=g(),k=h("p"),T=h("button"),T.textContent="Connect",L=g(),M=h("p"),M.innerHTML='Make sure that the\n        <a href="https://github.com/Palakis/obs-websocket/releases" target="_blank">obs-websocket plugin</a>\n        is installed and enabled.',y(n,"class","subtitle"),y(v,"id","host"),y(v,"class","input"),y(v,"type","text"),y(v,"placeholder",C=e[7].host),y(m,"class","control is-expanded"),y(S,"id","password"),y(S,"class","input"),y(S,"type","password"),y(S,"placeholder",$=e[7].password),y(S,"autocomplete","current-password"),y(E,"class","control is-expanded"),y(T,"class","button is-success"),y(k,"class","control"),y(p,"class","field is-grouped"),y(M,"class","help")},m(t,r){var l;u(t,n,r),u(t,o,r),F&&F.m(t,r),u(t,i,r),u(t,s,r),u(t,a,r),u(t,f,r),c(f,p),c(p,m),c(m,v),b(v,e[7].host),c(p,_),c(p,E),c(E,S),b(S,e[7].password),c(p,A),c(p,k),c(k,T),u(t,L,r),u(t,M,r),x||(R=[w(v,"keyup",e[25]),w(v,"input",e[27]),w(S,"keyup",e[25]),w(S,"input",e[28]),w(T,"click",(l=e[23],function(t){return t.preventDefault(),l.call(this,t)}))],x=!0)},p(t,e){"https:"===document.location.protocol&&F.p(t,e),128&e[0]&&C!==(C=t[7].host)&&y(v,"placeholder",C),128&e[0]&&v.value!==t[7].host&&b(v,t[7].host),128&e[0]&&$!==($=t[7].password)&&y(S,"placeholder",$),128&e[0]&&S.value!==t[7].password&&b(S,t[7].password)},i:t,o:t,d(t){t&&l(n),t&&l(o),F&&F.d(t),t&&l(i),t&&l(s),t&&l(a),t&&l(f),t&&l(L),t&&l(M),x=!1,r(R)}}}function rr(t){let e,n,r,o,i=t[4]&&or(t),s=t[6],a=[];for(let e=0;e<s.length;e+=1)a[e]=ur(zn(t,s,e));let c=!t[4]&&lr(t);return{c(){i&&i.c(),e=g();for(let t=0;t<a.length;t+=1)a[t].c();n=g(),c&&c.c(),r=m()},m(t,s){i&&i.m(t,s),u(t,e,s);for(let e=0;e<a.length;e+=1)a[e].m(t,s);u(t,n,s),c&&c.m(t,s),u(t,r,s),o=!0},p(t,o){if(t[4]?i?(i.p(t,o),16&o[0]&&U(i,1)):(i=or(t),i.c(),U(i,1),i.m(e.parentNode,e)):i&&(I(),V(i,1,1,(()=>{i=null})),N()),82502&o[0]){let e;for(s=t[6],e=0;e<s.length;e+=1){const r=zn(t,s,e);a[e]?a[e].p(r,o):(a[e]=ur(r),a[e].c(),a[e].m(n.parentNode,n))}for(;e<a.length;e+=1)a[e].d(1);a.length=s.length}t[4]?c&&(I(),V(c,1,1,(()=>{c=null})),N()):c?(c.p(t,o),16&o[0]&&U(c,1)):(c=lr(t),c.c(),U(c,1),c.m(r.parentNode,r))},i(t){o||(U(i),U(c),o=!0)},o(t){V(i),V(c),o=!1},d(t){i&&i.d(t),t&&l(e),f(a,t),t&&l(n),c&&c.d(t),t&&l(r)}}}function or(e){let n,r;return n=new Bn({props:{transitionScene:e[15]}}),{c(){D(n.$$.fragment)},m(t,e){z(n,t,e),r=!0},p:t,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){V(n.$$.fragment,t),r=!1},d(t){j(n,t)}}}function ir(t){let e,n,r,i,s,a=t[37].name+"";return{c(){e=h("a"),n=h("p"),r=d(a),y(n,"class","title has-text-centered is-size-6-mobile"),y(e,"class","tile is-child is-info notification")},m(a,l){u(a,e,l),c(e,n),c(n,r),i||(s=w(e,"click",(function(){o(t[9]?t[16]:t[14])&&(t[9]?t[16]:t[14]).apply(this,arguments)})),i=!0)},p(e,n){t=e,64&n[0]&&a!==(a=t[37].name+"")&&v(r,a)},d(t){t&&l(e),i=!1,s()}}}function sr(t){let e,n,r,o,i,s=t[37].name+"";return{c(){e=h("a"),n=h("p"),r=d(s),y(n,"class","title has-text-centered is-size-6-mobile"),y(e,"class","tile is-child is-warning notification")},m(s,a){u(s,e,a),c(e,n),c(n,r),o||(i=w(e,"click",t[14]),o=!0)},p(t,e){64&e[0]&&s!==(s=t[37].name+"")&&v(r,s)},d(t){t&&l(e),o=!1,i()}}}function ar(t){let e,n,r,o=t[37].name+"";return{c(){e=h("a"),n=h("p"),r=d(o),y(n,"class","title has-text-centered is-size-6-mobile"),y(e,"class","tile is-child is-primary notification")},m(t,o){u(t,e,o),c(e,n),c(n,r)},p(t,e){64&e[0]&&o!==(o=t[37].name+"")&&v(r,o)},d(t){t&&l(e)}}}function cr(t){let e;function n(t,e){return t[1]==t[37].name?ar:t[9]&&t[2]==t[37].name?sr:ir}let r=n(t),o=r(t);return{c(){e=h("div"),o.c(),y(e,"class","tile is-parent")},m(t,n){u(t,e,n),o.m(e,null)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e,null)))},d(t){t&&l(e),o.d()}}}function ur(t){let e,n=t[34],r=[];for(let e=0;e<n.length;e+=1)r[e]=cr(jn(t,n,e));return{c(){e=h("div");for(let t=0;t<r.length;t+=1)r[t].c();y(e,"class","tile is-ancestor")},m(t,n){u(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(82502&o[0]){let i;for(n=t[34],i=0;i<n.length;i+=1){const s=jn(t,n,i);r[i]?r[i].p(s,o):(r[i]=cr(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&l(e),f(r,t)}}}function lr(e){let n,r;return n=new Bn({props:{transitionScene:e[15]}}),{c(){D(n.$$.fragment)},m(t,e){z(n,t,e),r=!0},p:t,i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){V(n.$$.fragment,t),r=!1},d(t){j(n,t)}}}function fr(t){let e,n,r,o,i,s,a,f,p,d,m,v,b,_,E,S,$,A,k,T,L,M,x,R;const F=[Wn,qn],P=[];function H(t,e){return t[8]?0:1}p=H(t),d=P[p]=F[p](t),_=new ot({props:{path:t[3]?J:G}});const O=[rr,nr],B=[];function Y(t,e){return t[8]?0:1}return A=Y(t),k=B[A]=O[A](t),{c(){e=g(),n=h("nav"),r=h("div"),r.innerHTML='<a class="navbar-item is-size-4 has-text-weight-bold" href="/"><img src="favicon.png" alt="OBS-web" class="rotate"/>\n       OBS-web</a> \n\n    \n    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navmenu"><span aria-hidden="true"></span> \n      <span aria-hidden="true"></span> \n      <span aria-hidden="true"></span></a>',o=g(),i=h("div"),s=h("div"),a=h("div"),f=h("div"),d.c(),m=g(),v=h("a"),b=h("span"),D(_.$$.fragment),E=g(),S=h("section"),$=h("div"),k.c(),T=g(),L=h("footer"),L.innerHTML='<div class="content has-text-centered"><p><strong>OBS-web</strong>\n      by\n      <a href="https://niekvandermaas.nl/">Niek van der Maas</a>\n       see\n      <a href="https://github.com/Niek/obs-web">GitHub</a>\n      for source code.</p></div>',Dn.title="OBS-web - control OBS from anywhere",y(r,"class","navbar-brand"),y(b,"class","icon"),y(v,"class","button is-link"),y(v,"title","Toggle Fullscreen"),C(v,"is-light",!t[3]),y(f,"class","buttons"),y(a,"class","navbar-item"),y(s,"class","navbar-end"),y(i,"id","navmenu"),y(i,"class","navbar-menu"),y(n,"class","navbar is-primary"),y(n,"role","navigation"),y(n,"aria-label","main navigation"),y($,"class","container"),y(S,"class","section"),y(L,"class","footer")},m(l,h){u(l,e,h),u(l,n,h),c(n,r),c(n,o),c(n,i),c(i,s),c(s,a),c(a,f),P[p].m(f,null),c(f,m),c(f,v),c(v,b),z(_,b,null),u(l,E,h),u(l,S,h),c(S,$),B[A].m($,null),u(l,T,h),u(l,L,h),M=!0,x||(R=w(v,"click",t[10]),x=!0)},p(t,e){let n=p;p=H(t),p===n?P[p].p(t,e):(I(),V(P[n],1,1,(()=>{P[n]=null})),N(),d=P[p],d?d.p(t,e):(d=P[p]=F[p](t),d.c()),U(d,1),d.m(f,m));const r={};8&e[0]&&(r.path=t[3]?J:G),_.$set(r),8&e[0]&&C(v,"is-light",!t[3]);let o=A;A=Y(t),A===o?B[A].p(t,e):(I(),V(B[o],1,1,(()=>{B[o]=null})),N(),k=B[A],k?k.p(t,e):(k=B[A]=O[A](t),k.c()),U(k,1),k.m($,null))},i(t){M||(U(d),U(_.$$.fragment,t),U(k),M=!0)},o(t){V(d),V(_.$$.fragment,t),V(k),M=!1},d(t){t&&l(e),t&&l(n),P[p].d(),j(_),t&&l(E),t&&l(S),B[A].d(),t&&l(T),t&&l(L),x=!1,R()}}}function hr(t,e,n){let r,o,i,c,u;s(t,ft,(t=>n(7,o=t))),s(t,ht,(t=>n(8,i=t))),s(t,lt,(t=>n(30,c=t))),s(t,pt,(t=>n(9,u=t)));const l=new Fn;S((async()=>{if("wakeLock"in navigator)try{m=await navigator.wakeLock.request("screen"),document.addEventListener("visibilitychange",(async()=>{"visible"===document.visibilityState&&(m=await navigator.wakeLock.request("screen"))}))}catch(t){}document.addEventListener("fullscreenchange",(()=>{n(3,d=document.fullscreenElement)})),document.addEventListener("webkitfullscreenchange",(()=>{n(3,d=document.webkitFullscreenElement)})),document.addEventListener("msfullscreenchange",(()=>{n(3,d=document.msFullscreenElement)}));const t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);if(t.length>0&&t.forEach((t=>{t.addEventListener("click",(()=>{const e=document.getElementById(t.dataset.target);t.classList.toggle("is-active"),e.classList.toggle("is-active")}))})),document.location.hash){console.log(`document.location.hash: ${document.location.hash}`);let t=new URLSearchParams(window.location.hash.replace("#","?"));t.get("host")&&a(ft,o.host=t.get("host"),o),t.get("password")&&a(ft,o.password=t.get("password"),o),await C()}}));let f,h,p,d,g,m=!1,w=[],y="";async function v(t,e){try{return await l.send(t,e||{})}catch(e){return console.log("Error sending command",t," - error is:",e),{}}}async function b(){let t=await v("GetSceneList");n(1,h=t.currentScene),n(26,w=t.scenes.filter((t=>-1===t.name.indexOf("(hidden)")))),u&&l.send("GetPreviewScene").then((t=>n(2,p=t.name))).catch((t=>{})),console.log("Scenes updated")}async function C(){let t=o.host,e=o.password,r="https:"===location.protocol||t.endsWith(":443");if(-1!==t.indexOf("://")){let e=new URL(t);r="wss:"===e.protocol||"https:"===e.protocol,t=e.hostname+":"+(e.port?e.port:r?443:80)}console.log("Connecting to:",t,"- secure:",r,"- using password:",e),await _(),a(ht,i=!1,i);try{await l.connect({address:t,password:e,secure:r})}catch(t){console.log("Error: $e"),n(5,y=t.description)}}async function _(){await l.disconnect(),console.log("Disconnected"),a(ht,i=!1,i),n(5,y="Disconnected")}return l.on("ConnectionClosed",(()=>{a(ht,i=!1,i),console.log("Connection closed")})),l.on("AuthenticationSuccess",(async()=>{console.log("Connected: AuthenticationSuccess"),a(ht,i=!0,i);const t=(await v("GetVersion")).obsWebsocketVersion||"";console.log("OBS-websocket version:",t),at(t,"4.9.1")<0&&alert("You are running an outdated OBS-websocket (version "+t+"), please upgrade to the latest version for full compatibility."),await v("SetHeartbeat",{enable:!0}),await async function(){let t=await v("GetStudioModeStatus");pt.set(t&&t.studioMode)}(),await b(),c.active&&await getScreenshot()})),l.on("AuthenticationFailure",(async()=>{console.log("Authentication failure"),a(ft,o.password=prompt("Please enter your password:",o.password),o),null===password?(a(ht,i=!1,i),a(ft,o.password="",o),console.log("no password")):await C()})),l.on("Heartbeat",(t=>{n(0,f=t)})),l.on("SwitchScenes",(async t=>{console.log(`New Active Scene: ${t.sceneName}`),await b()})),l.on("error",(t=>{console.error("Socket error:",t)})),l.on("StudioModeSwitched",(async t=>{console.log(`Studio Mode: ${t.newState}`),pt.set(t.newState),pt?await b():n(2,p=!1)})),l.on("PreviewSceneChanged",(async t=>{console.log(`New Preview Scene: ${t.sceneName}`),await b()})),t.$$.update=()=>{67108864&t.$$.dirty[0]&&n(6,r=Array(Math.ceil(w.length/4)).fill().map(((t,e)=>4*e)).map((t=>w.slice(t,t+4))))},[f,h,p,d,g,y,r,o,i,u,function(){d?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()},async function(){await v("ToggleStudioMode")},async function(){n(4,g=!g)},v,async function(t){await v("SetCurrentScene",{"scene-name":t.currentTarget.textContent})},async function(t){await v("TransitionToProgram")},async function(t){await v("SetPreviewScene",{"scene-name":t.currentTarget.textContent})},async function(){await v("StartStreaming")},async function(){await v("StopStreaming")},async function(){await v("StartRecording")},async function(){await v("StopRecording")},async function(){await v("PauseRecording")},async function(){await v("ResumeRecording")},C,_,async function(t){"Enter"===t.key&&(await C(),t.preventDefault())},w,function(){o.host=this.value,ft.set(o)},function(){o.password=this.value,ft.set(o)}]}return new class extends Z{constructor(t){super(),W(this,t,hr,fr,i,{},null,[-1,-1])}}({target:document.body})}();
